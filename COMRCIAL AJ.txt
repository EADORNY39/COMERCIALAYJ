CREATE DATABASE COMERCIALAYJ

USE COMERCIALAYJ

CREATE TABLE OFICINA
( OFICINA INT NOT NULL,
  CIUDAD NVARCHAR (50) NOT NULL,
  REGION NVARCHAR (50) NOT NULL,
  VENTAS MONEY NOT NULL,
  DIRECTOR INT,
  PRIMARY KEY (OFICINA)
)

CREATE TABLE CLIENTE
( NUM_CLIENTE INT NOT NULL,
  EMPRESA NVARCHAR (20) NOT NULL,
  LIMITECREDITO MONEY,
  REPCLIE INT,
  PRIMARY KEY (NUM_CLIENTE)
)

CREATE TABLE REP_VENTAS
( NUM_EMPLEADO INT NOT NULL,
  NOMBRE NVARCHAR (15) NOT NULL,
  EDAD TINYINT NOT NULL,
  TITULO NVARCHAR (12),
  CUOTA MONEY,
  VENTAS MONEY NOT NULL,
  OFICINAREP INT,
  DIRECTORREP INT,
  PRIMARY KEY (NUM_EMPLEADO)
)

CREATE TABLE PRODUCTOS
( ID_FAB NVARCHAR (6) NOT NULL,
  ID_PRODUCTO CHAR (6) NOT NULL,
  DESCRIPCION NVARCHAR (80) NOT NULL,
  PRECIO MONEY NOT NULL,
  EXISTENCIA SMALLINT NOT NULL,
  PRIMARY KEY (ID_FAB, ID_PRODUCTO)
)

CREATE TABLE PEDIDOS
( NUM_PEDIDO INT NOT NULL,
  FECHAPEDIDO DATETIME NOT NULL,
  CANTIDAD INT,
  IMPORTE MONEY,
  FAB NVARCHAR (6),
  PRODUCTO CHAR (6),
  REP INT,
  CLIENTE INT NOT NULL,
  PRIMARY KEY (NUM_PEDIDO)
)

ALTER TABLE OFICINA ADD CONSTRAINT DIRIGE FOREIGN KEY (DIRECTOR)
REFERENCES REP_VENTAS (NUM_EMPLEADO)


ALTER TABLE REP_VENTAS ADD CONSTRAINT TRABAJA FOREIGN KEY (OFICINAREP)
REFERENCES OFICINA (OFICINA)

ALTER TABLE REP_VENTAS ADD CONSTRAINT DIRECTOR FOREIGN KEY (DIRECTORREP)
REFERENCES REP_VENTAS (NUM_EMPLEADO)


ALTER TABLE PEDIDOS ADD CONSTRAINT REALIZA FOREIGN KEY (CLIENTE)
REFERENCES CLIENTE (NUM_CLIENTE)

ALTER TABLE PEDIDOS ADD CONSTRAINT COLOCA FOREIGN KEY (REP)
REFERENCES REP_VENTAS (NUM_EMPLEADO)

ALTER TABLE PEDIDOS ADD CONSTRAINT TIENE FOREIGN KEY (FAB, PRODUCTO)
REFERENCES PRODUCTOS (ID_FAB, ID_PRODUCTO)

INSERT INTO CLIENTE (NUM_CLIENTE,EMPRESA,LIMITECREDITO)
VALUES ('001','MINECON','5000')


INSERT INTO CLIENTE (NUM_CLIENTE,EMPRESA,LIMITECREDITO)
VALUES ('002','SOLUCIONES','3000')

INSERT INTO CLIENTE (NUM_CLIENTE,EMPRESA,LIMITECREDITO)
VALUES ('003','SOLOVOLK','6000')

INSERT INTO CLIENTE (NUM_CLIENTE,EMPRESA,LIMITECREDITO)
VALUES ('004','VIAMAR','7000')

INSERT INTO CLIENTE (NUM_CLIENTE,EMPRESA,LIMITECREDITO)
VALUES ('005','MAGNA','8000')



INSERT INTO OFICINA (OFICINA,CIUDAD,REGION,VENTAS)
VALUES ('04','SANTIAGO','ESTE','2')


INSERT INTO OFICINA (OFICINA,CIUDAD,REGION,VENTAS)
VALUES ('01','BARAHONA','SUR','1')



INSERT INTO OFICINA (OFICINA,CIUDAD,REGION,VENTAS)
VALUES ('02','PARAISO','SUR','3')



INSERT INTO OFICINA (OFICINA,CIUDAD,REGION,VENTAS)
VALUES ('05','NAGUA','CIBAO','4')



INSERT INTO OFICINA (OFICINA,CIUDAD,REGION,VENTAS)
VALUES ('07','BONAO','CIBAO','7')



INSERT INTO PEDIDOS(NUM_PEDIDO,FECHAPEDIDO,CLIENTE)
VALUES ('07','23/08/2022','01')



INSERT INTO PEDIDOS(NUM_PEDIDO,FECHAPEDIDO,CLIENTE)
VALUES ('08','24/08/2022','01')



INSERT INTO PEDIDOS(NUM_PEDIDO,FECHAPEDIDO,CLIENTE)
VALUES ('09','25/08/2022','01')




INSERT INTO PEDIDOS(NUM_PEDIDO,FECHAPEDIDO,CLIENTE)
VALUES ('10','26/08/2022','01')



INSERT INTO PEDIDOS(NUM_PEDIDO,FECHAPEDIDO,CLIENTE)
VALUES ('11','27/08/2022','01')




INSERT INTO PRODUCTOS(ID_FAB,ID_PRODUCTO,DESCRIPCION,PRECIO,EXISTENCIA)
VALUES ('12030','10','ES UN DISPOSITIVO INA','1000','40')


INSERT INTO PRODUCTOS(ID_FAB,ID_PRODUCTO,DESCRIPCION,PRECIO,EXISTENCIA)
VALUES ('13030','10','MOCHILA PRADA','1500','50')


INSERT INTO PRODUCTOS(ID_FAB,ID_PRODUCTO,DESCRIPCION,PRECIO,EXISTENCIA)
VALUES ('14030','10','CAMISA POLO','800','20')

